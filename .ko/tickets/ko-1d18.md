---
id: ko-1d18
status: closed
deps: [ko-7a57]
created: 2026-02-28T07:09:50Z
type: task
priority: 2
---
# Add ko snooze <id> <date> as shorthand for ko update <id> --set snooze=<date>

## Notes

**2026-02-28 07:27:36 UTC:** ## Summary

### What was done

Added `ko snooze <id> <date>` as a shorthand command that delegates to `ko update <id> --snooze=<date>`.

- **`cmd_status.go`**: Added `cmdSnooze(args []string) int` following the exact pattern of existing shorthand commands (`cmdStart`, `cmdClose`, `cmdOpen`, `cmdBlock`). Requires at least 2 args; prints to stderr and returns 1 otherwise.
- **`main.go` (run)**: Added `case "snooze": return cmdSnooze(rest)` to the dispatch switch.
- **`main.go` (cmdHelp)**: Added `snooze <id> <date>` line to the help text alongside other status shortcuts.
- **`cmd_status_test.go`**: Added `TestCmdSnooze` with table-driven tests covering valid date, missing date arg, and invalid date format.

### Fix applied during review

The implementation was missing spec and testscript coverage for the new shorthand â€” an invariant violation (every behavior must have a spec; every spec must have a testscript test). Fixed:

- **`specs/ticket_snooze.feature`**: Added three scenarios for `ko snooze`: valid date sets field, missing date argument rejected, invalid date format rejected.
- **`testdata/ticket_snooze/snooze_basic.txtar`**: Added corresponding testscript cases exercising the snooze shorthand end-to-end, including error message assertions.

### Notable decisions

- The shorthand ignores extra arguments beyond the first two (consistent with how `cmdStart`, `cmdClose`, etc. pass all args through to `cmdUpdate`). The arity guard is a minimum check, not an exact check.
- The `cmd_status_test.go` unit tests are supplementary; the testscript cases are the canonical spec-backed tests per the invariants.

### All tests pass

`go test ./...` passes after the review fix.

**2026-02-28 07:27:36 UTC:** ko: SUCCEED
