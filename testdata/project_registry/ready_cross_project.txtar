# Cross-project dep resolution in ko ready
env HOME=$WORK/home
mkdir $WORK/home

# Set up project "alpha" with a ticket blocked on "beta-0001"
mkdir $WORK/alpha/.ko/tickets
mkdir $WORK/beta/.ko/tickets

# Register both projects
cd $WORK/alpha
exec ko register '#alpha'
cd $WORK/beta
exec ko register '#beta'
cd $WORK/alpha

# beta-0001 is closed in beta
cp $WORK/beta_ticket.txt $WORK/beta/.ko/tickets/beta-0001.md

# alpha has a ticket blocked on beta-0001
cp $WORK/alpha_blocked.txt $WORK/alpha/.ko/tickets/alp-0001.md

# No locally ready tickets (alp-0001 dep not found locally)
# but cross-project check finds beta-0001 is closed
exec ko ready
stdout 'alp-0001'

-- beta_ticket.txt --
---
id: beta-0001
status: closed
deps: []
links: []
created: 2026-01-01T00:00:00Z
type: task
priority: 2
---
# Beta task

-- alpha_blocked.txt --
---
id: alp-0001
status: open
deps: [beta-0001]
links: []
created: 2026-01-01T00:00:00Z
type: task
priority: 2
---
# Blocked on beta
